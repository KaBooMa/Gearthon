<div class="d-flex flex-column h-100" x-data="{ mods: null, show_create: false }" x-init="async () => { mods = await eel.get_mods()() }">
    <div class="px-3 pt-3 mx-auto w-50" x-data="{ 'mod_name': '' }">
        <div class="d-flex gap-4 w-50 mx-auto">
            <button class="btn btn-success" x-on:click="show_create = true">Create New Mod</button>
            <button class="btn btn-primary" x-on:click="async () => {await eel.import_mod(); loadPage('mods')}">Import Mod</button>
        </div>
        <div x-show="show_create" x-transition>
            <div class="d-flex flex-column border rounded m-4 p-4 shadow">
                <label class="form-label">Mod Name</label>
                <input class="form-control" x-model="mod_name">
                <div class="d-flex w-100">
                    <input class="btn btn-primary mt-4 w-100 me-2" value="Create" x-on:click="eel.create_mod(mod_name); loadPage('editor')">
                    <input class="btn btn-danger mt-4 w-100 ms-2" value="Cancel" x-on:click="show_create = false">
                </div>
            </div>
        </div>
    </div> 
    <template x-if="mods">
        <div>
            <hr>
            <h2 class="ps-2">Currently Installed Mods</h2>
            <table class="table">
                <thead>
                    <th>Mod</th>
                    <th></th>
                </thead>
                <tbody>
                    <template x-for="mod in mods">
                        <tr>
                            <td x-text="mod"></td>
                            <td x-data="{ confirmed_delete: false }">
                                <button class="btn btn-primary" x-on:click="eel.load_mod(mod); loadPage('editor')">Edit</button>
                                <button class="btn btn-warning" x-on:click="eel.export_mod(mod)">Export</button>
                                <button class="btn btn-danger" x-on:click="confirmed_delete = true">Delete</button>
                                <div class="border border-danger rounded p-4 m-4 shadow" x-show="confirmed_delete" x-transition>
                                    <h4>Are you sure you want to delete?</h4>
                                    <button class="btn btn-outline-danger" x-on:click="eel.delete_mod(mod); loadPage('mods')">Delete</button>
                                    <button class="btn btn-primary" x-on:click="confirmed_delete = false">Cancel</button>
                                </div>
                            </td>
                        </tr>
                    </template>
                </tbody>
            </table>
        </div>
    </template>
    <template x-if="!mods">
        <div class="h-100" x-load="loading.html">
        </div>
    </template>
</div>